<!DOCTYPE html>
<html>
  <head>
    <title>Interactive Animal Scene - A-Frame</title>
    <meta name="description" content="lion den" />
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@7.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>

    <script src="genetree.js"></script>
    <script src="genesnow.js"></script>
    <script src="genebush.js"></script>
    <script src="smoothmove.js"></script>
    <script src="hmi.js"></script>
    
  </head>
  <body>
    <a-scene fog="type: linear; color: #87CEEB; near: 1; far: 50">
      <a-assets>
        <a-asset-item
          id="treemodel"
          src="https://cdn.glitch.global/81f24a0b-c889-43ec-87ce-8b698f5614c1/white_birch.glb"
        ></a-asset-item>

        <a-asset-item
          id="snowmodel"
          src="https://cdn.glitch.global/2392092b-a3aa-4a16-8417-e249fd35b325/snow_on_the_ground.glb"
        ></a-asset-item>

        <a-asset-item
          id="bush"
          src="https://cdn.glitch.global/81f24a0b-c889-43ec-87ce-8b698f5614c1/simple_tree.glb"
        ></a-asset-item>

        <a-asset-item
          id="horsemodel"
          src="https://cdn.glitch.me/a4ce1fe7-9e7a-407f-9d50-fd7c6db57b42/lion_walk_cycle_on_place.glb?v=1737211336832"
        ></a-asset-item>
      </a-assets>

      <a-sky color="#ECECEC"></a-sky>

      <!-- Joystick-controlled camera rig -->
      <a-entity id="rig" gamepad-controls="fly: true">
        <a-entity
          id="camera"
          camera
          position="0 1.6 0"
          look-controls
        ></a-entity>
      </a-entity>

      <!-- Moving tree entity -->
      <a-entity
        id="tree"
        gltf-model="#horsemodel"
        scale="0.5 0.5 0.5"
        smooth-move
      ></a-entity>

      <!-- Snowy ground plane -->
      <a-plane
        position="0 0 -10"
        rotation="-90 0 0"
        width="100"
        height="100"
        color="#FFFFFF"
        material="opacity: 0.9; roughness: 1"
      ></a-plane>

      <!-- Controllers -->
      <a-entity
        id="left-controller"
        laser-controls="hand: left"
        hmi-controller="hand: left"
        raycaster="objects: .interactive; far: 10"
        line="color: #00ff00; opacity: 0.8; width: 0.02;"
      ></a-entity>

      <a-entity
        id="right-controller"
        laser-controls="hand: right"
        raycaster="objects: .interactive; far: 10"
        line="color: #00ff00; opacity: 0.8; width: 0.02;"
      ></a-entity>

      <!-- Camera rig -->
      <a-entity id="camera-rig">
        <a-camera position="0 1.6 0"></a-camera>
      </a-entity>
    </a-scene>
  </body>
</html>
